<script>
    let currentIndex = 0;

    function autoScrollCarousel() {
        const carouselContainer = document.querySelector('.carousel-container');
        const items = document.querySelectorAll('.carousel-item');
        const totalItems = items.length;

        currentIndex++;

        if (currentIndex >= totalItems) {
            // Temporarily disable transition for reset
            carouselContainer.style.transition = 'none';
            currentIndex = 0;
            const translateX = -currentIndex * 100;
            carouselContainer.style.transform = `translateX(${translateX}%)`;

            // Re-enable transition for subsequent scrolling
            setTimeout(() => {
                carouselContainer.style.transition = 'transform 0.5s ease-in-out';
            }, 50);
        } else {
            const translateX = -currentIndex * 100;
            carouselContainer.style.transform = `translateX(${translateX}%)`;
        }
    }

    // Set an interval to auto-scroll every 3 seconds
    setInterval(autoScrollCarousel, 3000);
</script>

<head>
    <link rel="stylesheet" href="../static/css/defaultStyle.css">
</head>

<body>
    <div class="main">
        <div class="header">
            <h1>Value your car!</h1>
        </div>
        <div class="carousel">
            <div class="carousel-container">
              <div class="carousel-item"><img src="../static/images/carousel/photo2.webp" alt="Photo 2"></div>
              <div class="carousel-item"><img src="../static/images/carousel/photo3.webp" alt="Photo 3"></div>
              <div class="carousel-item"><img src="../static/images/carousel/photo4.webp" alt="Photo 4"></div>
              <div class="carousel-item"><img src="../static/images/carousel/photo5.webp" alt="Photo 5"></div>
              <div class="carousel-item"><img src="../static/images/carousel/photo6.webp" alt="Photo 6"></div>
              <div class="carousel-item"><img src="../static/images/carousel/photo7.webp" alt="Photo 7"></div>
            </div>
            <div class="carousel-text">
                <p>Welcome to Valcar, your trusted destination for accurate and instant car valuations.
                    Whether you're buying, selling, or just curious, we help you find out exactly what your car is 
                    worth in today's market. Our advanced algorithm analyzes real-time market data, vehicle condition,
                    mileage, model year, and regional trends to provide you with a fair, transparent valuation in seconds.</p>
            </div>
        </div>

        <div class="row">
            <h1>Please fill out this form so we can retrieve the data that you need:</h1>
        </div>
        <div class="row">
            <form action="{{ url_for('valutationForm') }}" method="get">
                <button class="glow-button" type="submit">Click me</button>
            </form>
        </div>
        
        <hr>
    </div>
</body>

<style>

    hr {
        border: none;
        height: 3px;
        background: linear-gradient(90deg, transparent, var(--blue1), transparent);
        margin: 30px auto;
        width: 85%;
    }

    body{
        background-color: var(--black-grey);
    }

    .row{
        display: flex;
        justify-content: center;
        align-items: center; 
    }

    h1{
        padding: 2%;
        color:white;
        text-shadow: 5px 5px var(--blue3);
        text-align: center;
        font-size: 50px;
        letter-spacing: 3px;
        word-spacing: 7px;
        font-family: "OblivionFuture";
    }

    .carousel {
        margin: auto;
        width: 90%;
        height: 600px;
        overflow: hidden;
        position: relative;
        border-radius: 12px;
        border: none;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 15px var(--blue2);
    }

    .carousel-container {
        display: flex;
        transition: transform 0.5s ease-in-out;
        height: 100%;
    }

    .carousel-item {
        flex: 0 0 100%;
        width: 100%;
        height: 100%;   
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .carousel-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: brightness(0.85);
    }

    .carousel-text {
        font-family: 'OblivionFuture';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 18px;
        line-height: 1.6;
        text-align: center;
        z-index: 10;
        pointer-events: none;
        background-color: rgba(30, 64, 175, 0.75);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        max-width: 70%;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .carousel-text p {
        margin: 0;
        font-family: "OblivionFuture", 'Segoe UI', Tahoma, sans-serif;
        letter-spacing: 1px;
        word-spacing: 3px;
    }

    button{
        background-color: transparent;
        border-color: transparent;
        position: relative;
        color: var(--blue2);
        font-family: "OblivionFuture";
        margin: auto;
        font-size: 50px;
        padding: 2%;
    }

    .glow-button {
        background: linear-gradient(145deg, var(--blue1), var(--blue3));
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 22px;
        font-weight: bold;
        font-family: "OblivionFuture", 'Segoe UI', Tahoma, sans-serif;
        padding: 16px 40px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        letter-spacing: 1px;
        text-transform: uppercase;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .glow-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4), 0 0 20px var(--blue2);
    }

    .glow-button:active {
        transform: translateY(1px);
    }

    @media (max-width: 768px) {
        .carousel {
            height: 400px;
        }
        
        .carousel-text {
            max-width: 85%;
            padding: 15px;
            font-size: 16px;
        }
        
        h1 {
            font-size: 32px;
        }
        
        .glow-button {
            font-size: 18px;
            padding: 12px 30px;
        }
    }

</style>
